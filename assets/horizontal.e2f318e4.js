import{a8 as V,u as O,_ as P,o as F,e as N}from"./index.ab2bd5b7.js";import{a as R,r as j,aD as k,aC as W,a0 as q,m as Q,I as U,l as X,aI as Y,al as i,o as r,c as d,X as a,R as l,F as C,ab as G,Q as y,b as L,W as m,u as J,ad as K,V as g,a5 as S,aA as Z,n as ee}from"./vue.562ccee8.js";import{_ as te}from"./_plugin-vue_export-helper.c27b6911.js";const ne={class:"el-menu-horizontal-warp"},se=["onClick"],oe=R({name:"navMenuHorizontal"}),ae=R({...oe,props:{menuList:{type:Array,default:()=>[]}},setup(A){const b=Z(()=>P(()=>import("./subItem.964eea63.js"),["assets/subItem.964eea63.js","assets/vue.562ccee8.js","assets/index.ab2bd5b7.js","assets/index.1f7026e7.css"])),v=A,c=j(),z=V(),M=O(),{routesList:$}=k(z),{themeConfig:p}=k(M),w=W(),u=q({defaultActive:""}),x=Q(()=>v.menuList),D=n=>{const e=n.wheelDelta||-n.deltaY*40;c.value.$refs.wrapRef.scrollLeft=c.value.$refs.wrapRef.scrollLeft+e/4},I=()=>{ee(()=>{let n=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!n)return!1;c.value.$refs.wrapRef.scrollLeft=n.offsetLeft})},_=n=>n.filter(e=>{var t;return!((t=e.meta)!=null&&t.isHide)}).map(e=>(e=Object.assign({},e),e.children&&(e.children=_(e.children)),e)),H=n=>{const e=n.split("/");let t={children:[]};return _($.value).map((o,f)=>{o.path===`/${e[1]}`&&(o.k=f,t.item={...o},t.children=[{...o}],o.children&&(t.children=o.children))}),t},h=n=>{const{path:e,meta:t}=n;if(p.value.layout==="classic")u.defaultActive=`/${e==null?void 0:e.split("/")[1]}`;else{const o=t!=null&&t.isDynamic?t.isDynamicPath.split("/"):e.split("/");o.length>=4&&(t!=null&&t.isHide)?u.defaultActive=o.splice(0,3).join("/"):u.defaultActive=e}},B=n=>{F.handleOpenLink(n)};return U(()=>{h(w)}),X(()=>{I()}),Y(n=>{h(n);let{layout:e,isClassicSplitMenu:t}=p.value;e==="classic"&&t&&N.emit("setSendClassicChildren",H(n.path))}),(n,e)=>{const t=i("SvgIcon"),o=i("el-sub-menu"),f=i("el-menu-item"),T=i("el-menu"),E=i("el-scrollbar");return r(),d("div",ne,[a(E,{onWheel:S(D,["prevent"]),ref_key:"elMenuHorizontalScrollRef",ref:c},{default:l(()=>[a(T,{router:"","default-active":u.defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:l(()=>[(r(!0),d(C,null,G(x.value,s=>(r(),d(C,null,[s.children&&s.children.length>0?(r(),y(o,{index:s.path,key:s.path},{title:l(()=>[a(t,{name:s.meta.icon},null,8,["name"]),L("span",null,m(n.$t(s.meta.title)),1)]),default:l(()=>[a(J(b),{chil:s.children},null,8,["chil"])]),_:2},1032,["index"])):(r(),y(f,{index:s.path,key:s.path},K({_:2},[!s.meta.isLink||s.meta.isLink&&s.meta.isIframe?{name:"title",fn:l(()=>[a(t,{name:s.meta.icon},null,8,["name"]),g(" "+m(n.$t(s.meta.title)),1)]),key:"0"}:{name:"title",fn:l(()=>[L("a",{class:"w100",onClick:S(le=>B(s),["prevent"])},[a(t,{name:s.meta.icon},null,8,["name"]),g(" "+m(n.$t(s.meta.title)),1)],8,se)]),key:"1"}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},512)])}}});const ue=te(ae,[["__scopeId","data-v-161df1d0"]]);export{ue as default};
