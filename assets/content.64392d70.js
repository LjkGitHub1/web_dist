import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import{r as c,l as L,al as d,o as i,c as y,X as u,u as o,b as _,W as m,V as p,R as r,F as h,ab as M,Q as $}from"./vue.562ccee8.js";const R={class:"container"},T={style:{"font-size":"25px"}},U={class:"main"},W={style:{"margin-bottom":"5px"}},X={style:{width:"100%"}},j={__name:"content",props:["data"],emits:["customEvent"],setup(q,{emit:A}){const b=q,w=b.data,n=w.questions;let k=c(""),e=c(0),v=c(n[e.value]),f=c(1),g=c(0),s=c([{question:n[0].id,answer:"",score:0}]);const B=l=>l===100?"完成":`${e.value+1}/${n.length}`,E=l=>{if(console.log("item",l),k.value=l.text,console.log(k.value),s.value[e.value].score=l.score,e.value<n.length-1)return C()},N=()=>{v.value=n[--e.value],console.log(s.value),f.value=(e.value+1)/n.length*100},C=()=>{e.value++,s.value.find(l=>l.question===n[e.value].id)||s.value.push({question:n[e.value].id,answer:"",score:0}),v.value=n[e.value],f.value=(e.value+1)/n.length*100,console.log(s.value)},S=()=>{g.value=0,s.value.forEach(l=>{g.value+=l.score}),console.log("totalScore",g.value)};return L(async()=>{console.log("scale_id111",b.data)}),(l,t)=>{const D=d("el-progress"),F=d("el-radio"),Q=d("el-radio-group"),x=d("el-button"),V=d("el-col"),z=d("el-row");return i(),y(h,null,[u(D,{style:{margin:"10px 0 0 10px"},percentage:o(f),status:o(e)+1==o(n).length?"success":"",format:B},null,8,["percentage","status"]),_("div",R,[_("h1",T,m(o(w).title),1),_("div",U,[_("h3",W,[p(m(o(e)+1)+". ",1),_("span",null,m(o(v).text),1)]),u(Q,{modelValue:o(s)[o(e)].answer,"onUpdate:modelValue":t[0]||(t[0]=a=>o(s)[o(e)].answer=a)},{default:r(()=>[(i(!0),y(h,null,M(o(v).options,(a,G)=>(i(),y("div",X,[u(F,{value:a.text,border:"",style:{margin:"5px"},onChange:H=>E(a)},{default:r(()=>[p(m(a.text),1)]),_:2},1032,["value","onChange"])]))),256))]),_:1},8,["modelValue"]),u(z,{style:{"margin-top":"30px"}},{default:r(()=>[u(V,{span:2},{default:r(()=>[u(x,{disabled:o(e)<1,onClick:t[1]||(t[1]=a=>N())},{default:r(()=>t[4]||(t[4]=[p("上一题")])),_:1},8,["disabled"])]),_:1}),u(V,{span:2,offset:8},{default:r(()=>[o(e)<o(n).length-1?(i(),$(x,{key:0,onClick:t[2]||(t[2]=a=>C())},{default:r(()=>t[5]||(t[5]=[p("下一题")])),_:1})):(i(),$(x,{key:1,onClick:t[3]||(t[3]=a=>S())},{default:r(()=>t[6]||(t[6]=[p("提交")])),_:1}))]),_:1})]),_:1})])])],64)}}},O=I(j,[["__scopeId","data-v-1e3ef4c3"]]);export{O as default};
