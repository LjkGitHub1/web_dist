import i from"./index.bd30006c.js";import b from"./index.25d94829.js";import{r as d}from"./index.ab2bd5b7.js";import{a as g,r as y,a0 as v,al as c,o as k,Q as w,R as l,X as s,b as r,u as C}from"./vue.562ccee8.js";import{_ as I}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.acca7465.js";import"./api.1e82473c.js";function D(m){return d({url:"/api/system/role/",method:"get",params:m})}function T(){return d({url:"/api/system/column/get_models/",method:"get"})}const R={class:"columns-box columns-left"},B={class:"columns-box columns-center"},$={class:"columns-box columns-right"},q=g({__name:"index",setup(m){const u=y(null);let o=v({role:"",model:"",app:"",menu:""});const p=async(e,t)=>{const a=await D(e);t(a)},f=async(e,t)=>{const a=await T();a.data.forEach(n=>{n.showText=`${n.app}-${n.title}(${n.key})`}),t(a)},h=()=>{var e;if(o.role&&o.model&&o.app){(e=u.value)==null||e.fetchData(o);return}},_=(e,t)=>{e==="role"&&(o.role=t.id),e==="menu"&&(o.menu=t.id),e==="model"&&(o.model=t.key,o.app=t.app),h()};return(e,t)=>{const a=c("el-col"),n=c("el-row"),x=c("fs-page");return k(),w(x,{class:"columns"},{default:l(()=>[s(n,{class:"columns-el-row",gutter:10},{default:l(()=>[s(a,{span:6},{default:l(()=>[r("div",R,[s(i,{title:"角色",type:"role",showPagination:"",onFetchData:p,onItemClick:_})])]),_:1}),s(a,{span:8},{default:l(()=>[r("div",B,[s(i,{title:"模型表",type:"model",label:"showText",value:"key",onFetchData:f,onItemClick:_})])]),_:1}),s(a,{span:10},{default:l(()=>[r("div",$,[s(b,{ref_key:"columnsTableRef",ref:u,currentInfo:C(o)},null,8,["currentInfo"])])]),_:1})]),_:1})]),_:1})}}});const Q=I(q,[["__scopeId","data-v-cdb3dd1a"]]);export{Q as default};
