import{v as ae,f as L,u as ie,L as C,ab as ce,ac as ue,_ as q,ad as B,E as de,e as me,q as fe,S as ge,o as _e}from"./index.ab2bd5b7.js";import{a as H,aG as be,aD as P,r as A,a0 as pe,m as he,l as we,al as f,o as M,c as O,X as n,R as o,V as g,W as w,b as c,L as F,u as t,U as N,M as ve,aA as D}from"./vue.562ccee8.js";import{_ as Ce}from"./_plugin-vue_export-helper.c27b6911.js";const V=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],_=(()=>{if(typeof document>"u")return!1;const l=V[0],i={};for(const s of V)if((s==null?void 0:s[1])in document){for(const[m,v]of s.entries())i[l[m]]=v;return i}return!1})(),U={change:_.fullscreenchange,error:_.fullscreenerror};let u={request(l=document.documentElement,i){return new Promise((s,b)=>{const m=()=>{u.off("change",m),s()};u.on("change",m);const v=l[_.requestFullscreen](i);v instanceof Promise&&v.then(m).catch(b)})},exit(){return new Promise((l,i)=>{if(!u.isFullscreen){l();return}const s=()=>{u.off("change",s),l()};u.on("change",s);const b=document[_.exitFullscreen]();b instanceof Promise&&b.then(s).catch(i)})},toggle(l,i){return u.isFullscreen?u.exit():u.request(l,i)},onchange(l){u.on("change",l)},onerror(l){u.on("error",l)},on(l,i){const s=U[l];s&&document.addEventListener(s,i,!1)},off(l,i){const s=U[l];s&&document.removeEventListener(s,i,!1)},raw:_};Object.defineProperties(u,{isFullscreen:{get:()=>!!document[_.fullscreenElement]},element:{enumerable:!0,get:()=>document[_.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[_.fullscreenEnabled]}});_||(u={isEnabled:!1});const y=u,j="/assets/headerImage.36a0f86b.png",Se={class:"layout-navbars-breadcrumb-user-icon"},Ee=["title"],ke={class:"layout-navbars-breadcrumb-user-icon"},Fe=["title"],ye=["title"],ze={class:"layout-navbars-breadcrumb-user-icon"},Ie=["title"],$e={key:0},Be=["src"],Pe={class:"layout-navbars-breadcrumb-user-link"},Me={key:0},Oe=["src"],Re=H({name:"layoutBreadcrumbUser"}),Te=H({...Re,setup(l){const i=D(()=>q(()=>import("./userNews.84b0a274.js"),["assets/userNews.84b0a274.js","assets/vue.562ccee8.js","assets/index.ab2bd5b7.js","assets/index.1f7026e7.css","assets/_plugin-vue_export-helper.c27b6911.js","assets/userNews.c93912d5.css"])),s=D(()=>q(()=>import("./search.7851f3ac.js"),["assets/search.7851f3ac.js","assets/vue.562ccee8.js","assets/index.ab2bd5b7.js","assets/index.1f7026e7.css","assets/_plugin-vue_export-helper.c27b6911.js","assets/search.3305851d.css"])),{locale:b,t:m}=ae.useI18n(),v=be(),G=L(),W=ie(),{userInfos:E}=P(G),{themeConfig:S}=P(W),R=A(),d=pe({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large"}),X=he(()=>{let e="";const{layout:r,isClassicSplitMenu:a}=S.value;return["defaults","columns"].includes(r)||r==="classic"&&!a?e="1":e="",e}),{isSocketOpen:p}=P(L()),T=A(),J=()=>{var e,r;p.value||(B.is_reonnect=!0,B.reconnect_current=1,B.reconnect()),(r=(e=t(T).popperRef)==null?void 0:e.delayHide)==null||r.call(e)},K=()=>{if(!y.isEnabled)return de.warning("暂不不支持全屏"),!1;y.toggle(),y.on("change",()=>{y.isFullscreen?d.isScreenfull=!0:d.isScreenfull=!1})},Q=()=>{me.emit("openSetingsDrawer")},Y=e=>{e==="logOut"?fe({closeOnClickModal:!1,closeOnPressEscape:!1,title:m("message.user.logOutTitle"),message:m("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:m("message.user.logOutConfirm"),cancelButtonText:m("message.user.logOutCancel"),buttonSize:"default",beforeClose:(r,a,h)=>{r==="confirm"?(a.confirmButtonLoading=!0,a.confirmButtonText=m("message.user.logOutExit"),setTimeout(()=>{h(),setTimeout(()=>{a.confirmButtonLoading=!1},300)},700)):h()}}).then(async()=>{ge.clear(),window.location.reload()}).catch(()=>{}):e==="wareHouse"?window.open("https://gitee.com/huge-dream/django-vue3-admin"):v.push(e)},Z=()=>{R.value.openSearch()},ee=e=>{C.remove("themeConfig"),S.value.globalComponentSize=e,C.set("themeConfig",S.value),k("globalComponentSize","disabledSize"),window.location.reload()},ne=e=>{C.remove("themeConfig"),S.value.globalI18n=e,C.set("themeConfig",S.value),b.value=e,_e.useTitle(),k("globalI18n","disabledI18n")},k=(e,r)=>{d[r]=C.get("themeConfig")[e]};we(()=>{C.get("themeConfig")&&(k("globalComponentSize","disabledSize"),k("globalI18n","disabledI18n"))});const x=ce();return(e,r)=>{const a=f("el-dropdown-item"),h=f("el-dropdown-menu"),z=f("el-dropdown"),oe=f("ele-Search"),I=f("el-icon"),se=f("ele-Bell"),$=f("el-badge"),te=f("el-popover"),le=f("el-popconfirm"),re=f("ele-ArrowDown");return M(),O("div",{class:"layout-navbars-breadcrumb-user pr15",style:ve({flex:X.value})},[n(z,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:ee},{dropdown:o(()=>[n(h,null,{default:o(()=>[n(a,{command:"large",disabled:d.disabledSize==="large"},{default:o(()=>[g(w(e.$t("message.user.dropdownLarge")),1)]),_:1},8,["disabled"]),n(a,{command:"default",disabled:d.disabledSize==="default"},{default:o(()=>[g(w(e.$t("message.user.dropdownDefault")),1)]),_:1},8,["disabled"]),n(a,{command:"small",disabled:d.disabledSize==="small"},{default:o(()=>[g(w(e.$t("message.user.dropdownSmall")),1)]),_:1},8,["disabled"])]),_:1})]),default:o(()=>[c("div",Se,[c("i",{class:"iconfont icon-ziti",title:e.$t("message.user.title0")},null,8,Ee)])]),_:1}),n(z,{"show-timeout":70,"hide-timeout":50,trigger:"click",onCommand:ne},{dropdown:o(()=>[n(h,null,{default:o(()=>[n(a,{command:"zh-cn",disabled:d.disabledI18n==="zh-cn"},{default:o(()=>r[0]||(r[0]=[g("简体中文")])),_:1},8,["disabled"]),n(a,{command:"en",disabled:d.disabledI18n==="en"},{default:o(()=>r[1]||(r[1]=[g("English")])),_:1},8,["disabled"]),n(a,{command:"zh-tw",disabled:d.disabledI18n==="zh-tw"},{default:o(()=>r[2]||(r[2]=[g("繁體中文")])),_:1},8,["disabled"])]),_:1})]),default:o(()=>[c("div",ke,[c("i",{class:F(["iconfont",d.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),title:e.$t("message.user.title1")},null,10,Fe)])]),_:1}),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:Z},[n(I,{title:e.$t("message.user.title2")},{default:o(()=>[n(oe)]),_:1},8,["title"])]),c("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:Q},[c("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,ye)]),c("div",ze,[n(te,{placement:"bottom",trigger:"click",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:o(()=>[n($,{value:t(x).unread,hidden:t(x).unread===0},{default:o(()=>[n(I,{title:e.$t("message.user.title4")},{default:o(()=>[n(se)]),_:1},8,["title"])]),_:1},8,["value","hidden"])]),default:o(()=>[n(t(i))]),_:1})]),c("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:K},[c("i",{class:F(["iconfont",d.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:d.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Ie)]),c("div",null,[t(p)?N("",!0):(M(),O("span",$e,[n(le,{width:"250",ref_key:"onlinePopoverRef",ref:T,"confirm-button-text":e.$t("message.user.retry"),icon:t(ue),trigger:"hover","icon-color":"#626AEF",title:e.$t("message.user.onlinePrompt"),onConfirm:J},{reference:o(()=>[n($,{"is-dot":"",class:F(["item",{"online-status":t(p),"online-down":!t(p)}])},{default:o(()=>[c("img",{src:t(E).avatar||t(j),class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Be)]),_:1},8,["class"])]),_:1},8,["confirm-button-text","icon","title"])]))]),n(z,{"show-timeout":70,"hide-timeout":50,onCommand:Y},{dropdown:o(()=>[n(h,null,{default:o(()=>[n(a,{command:"/home"},{default:o(()=>[g(w(e.$t("message.user.dropdown1")),1)]),_:1}),n(a,{command:"/personal"},{default:o(()=>[g(w(e.$t("message.user.dropdown2")),1)]),_:1}),n(a,{divided:"",command:"logOut"},{default:o(()=>[g(w(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:o(()=>[c("span",Pe,[t(p)?(M(),O("span",Me,[n($,{"is-dot":"",class:F(["item",{"online-status":t(p),"online-down":!t(p)}])},{default:o(()=>[c("img",{src:t(E).avatar||t(j),class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Oe)]),_:1},8,["class"])])):N("",!0),g(" "+w(t(E).username===""?"common":t(E).username)+" ",1),n(I,{class:"el-icon--right"},{default:o(()=>[n(re)]),_:1})])]),_:1}),n(t(s),{ref_key:"searchRef",ref:R},null,512)],4)}}});const Ae=Ce(Te,[["__scopeId","data-v-27865e19"]]);export{Ae as default};
